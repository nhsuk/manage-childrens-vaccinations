<action-table class="nhsuk-grid-row" sort="name">
  <div class="nhsuk-grid-column-one-quarter">
    <%= render AppPatientTableFilterComponent.new(tab_id: @tab_id) %>
  </div>
  <div class="nhsuk-grid-column-three-quarters">
    <%= govuk_table(classes: "app-table--patients nhsuk-u-margin-0") do |table| %>
      <%= table.with_head do |head| %>
        <%= head.with_row do |row| %>
          <%= @columns.each do |column| %>
            <%= row.with_cell(
              text: column_name(column),
              html_attributes: { "data-col": column }
            ) %>
          <% end %>
        <% end %>
      <% end %>

      <%= table.with_body do |body| %>
        <%= @patient_sessions.each do |patient_session| %>
          <%= body.with_row do |row| %>
            <%= @columns.each do |column| %>
              <%= row.with_cell(**column_value(patient_session, column)) %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
    <action-table-no-results>
      <%= render AppEmptyListComponent.new() %>
    </action-table-no-results>
  </div>
</action-table>