<% if flash[:success].present? %>
  <%= govuk_notification_banner(title_text: "Success", success: true) do |nb| %>
    <% if flash[:success].is_a?(Hash) %>
      <% nb.with_heading(text: flash[:success][:title]) %>
      <p><%= flash[:success][:body] %></p>
    <% else %>
      <% nb.with_heading(text: flash[:success]) %>
    <% end %>
  <% end %>
<% end %>

<% content_for :breadcrumbs do %>
  <%= render AppBreadcrumbComponent.new(items: [
    { text: 'Home', href: dashboard_path },
  ]) %>
<% end %>

<h1>School sessions</h1>

<% @sessions_by_type.each do |campaign_type, sessions| %>
  <h2><%= campaign_type %></h2>

  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th class="govuk-table__header">Date</th>
        <th class="govuk-table__header">Time</th>
        <th class="govuk-table__header" style="width: 50%">School</th>
        <th class="govuk-table__header" style="width: 25%"></th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      <% sessions.each do |session| %>
        <%= render "session_row", session: %>
      <% end %>
    </tbody>
  </table>
<% end %>
