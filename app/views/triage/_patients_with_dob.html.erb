<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <%
    view_patient_sessions = @patient_sessions.select { |ps| ps.state.in? view_states }
    if view_patient_sessions.any?
    %>
    <table id="patients" class="nhsuk-table">
      <thead class="nhsuk-table__head">
        <tr class="nhsuk-table__row">
          <th class="nhsuk-table__header">Name</th>
          <th class="nhsuk-table__header">Date of birth</th>
          <th class="nhsuk-table__header">Action</th>
        </tr>
      </thead>
      <tbody class="nhsuk-table__body">
        <% view_patient_sessions.each do |patient_session| %>
          <%= render "patient_row",
                     middle_column: :dob,
                     patient_session:,
                     patient: patient_session.patient,
                     session: patient_session.session,
                     state: patient_session.state %>
        <% end %>
      </tbody>
    </table>
<% else %>
    <%= render "layouts/empty_list", message: "We couldnâ€™t find any children that matched your filters." %>
<% end %>
  </div>
</div>
