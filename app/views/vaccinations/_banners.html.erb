<% if @vaccination_record&.administered? %>
  <%= render AppBannerComponent.new(
                title: "Vaccinated",
                explanation: @consent_response.present? ? "Their #{@consent_response.who_responded.downcase} gave consent" : "",
                colour: "green"
              ) %>
<% elsif @vaccination_record&.administered == false %>
  <%= render AppBannerComponent.new(
                title: "Could not vaccinate",
                # TODO: add reason for refusal once that is collected
                explanation: @consent_response.present? ? "Their #{@consent_response.who_responded.downcase} gave consent" : "",
                colour: "orange"
              ) %>
<% end %>

<% if @consent_response&.consent_refused? %>
  <%= render AppBannerComponent.new(
          title: "Their #{@consent_response.who_responded.downcase} has refused to give consent",
          colour: "orange"
        ) %>

<% elsif @consent_response.nil? %>
  <%= render AppBannerComponent.new(
              title: "No-one responded to our requests for consent",
              colour: "yellow"
            ) %>
<% end %>

<% if @triage&.do_not_vaccinate? %>
  <%= render AppBannerComponent.new(
              title: "Do not vaccinate",
              # TODO replace "The nurse" with the nurse's full name when that information is available
              explanation: "The nurse has decided that #{@triage.patient.full_name} should not be vaccinated",
              colour: "red"
          ) %>
<% end %>
